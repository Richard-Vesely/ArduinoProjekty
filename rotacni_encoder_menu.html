<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <title>Enkodér menu demo</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    html, body { font-family: system-ui, sans-serif; background:#0b0d10; color:#e6e6e6; }
    .wrap { max-width: 560px; margin: 48px auto; padding: 24px; background:#13161a; border-radius:16px; box-shadow: 0 10px 30px rgba(0,0,0,.35); }
    h1 { margin: 0 0 16px; font-size: 20px; font-weight: 600; color:#f0f0f0; }
    p.hint { margin: 6px 0 18px; color:#a9b0b8; font-size: 14px; }
    ul { list-style: none; padding: 0; margin: 0; }
    li { padding: 14px 16px; margin: 8px 0; background:#191e24; border-radius:12px; border:1px solid #232a32; display:flex; justify-content:space-between; align-items:center; }
    li.selected { outline: 2px solid #ffcc00; background:#1d232a; }
    .key { font-size: 12px; color:#9aa3ad; }
    .footer { margin-top: 18px; font-size: 13px; color:#98a1aa; }
  </style>
</head>
<body>
  <div class="wrap" tabindex="0" id="app">
    <h1>Menu (ovládej šipkami, Enter)</h1>
    <p class="hint">Tip: klikni sem myší (nebo stiskni Tab), aby stránka měla fokus a reagovala na klávesy.</p>
    <ul id="menu"></ul>
    <div class="footer">Vybraná položka se zobrazí v konzoli (F12) a alertu.</div>
  </div>

  <script>
    const items = [
      { id: 'lights',  title: 'LED světelná show' },
      { id: 'lcd',     title: 'LCD – zpráva a posun' },
      { id: 'motor',   title: 'Servo/Motor demo' },
      { id: 'sensor',  title: 'Senzory – živá data' },
      { id: 'about',   title: 'O této ukázce' },
    ];

    const ul = document.getElementById('menu');
    const app = document.getElementById('app');

    let index = 0;

    function render() {
      ul.innerHTML = '';
      items.forEach((it, i) => {
        const li = document.createElement('li');
        li.textContent = it.title;
        if (i === index) li.classList.add('selected');
        const hint = document.createElement('span');
        hint.className = 'key';
        hint.textContent = i === index ? 'Enter → potvrdit' : '';
        li.appendChild(hint);
        ul.appendChild(li);
      });
    }

    function clamp(i) {
      if (i < 0) return 0;
      if (i >= items.length) return items.length - 1;
      return i;
    }

    function onSelect() {
      const chosen = items[index];
      console.log('Zvoleno:', chosen);
      alert('Zvoleno: ' + chosen.title + ' (' + chosen.id + ')');
    }

    // Ovládání šipkami + Enter
    window.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowDown') {
        index = clamp(index + 1);
        render();
        e.preventDefault();
      } else if (e.key === 'ArrowUp') {
        index = clamp(index - 1);
        render();
        e.preventDefault();
      } else if (e.key === 'Enter') {
        onSelect();
        e.preventDefault();
      }
    });

    // Klikni do boxu, aby měl fokus (pro jistotu dáme i auto-focus na načtení)
    app.addEventListener('click', () => app.focus());
    window.addEventListener('load', () => { app.focus(); render(); });
  </script>
</body>
</html>
